<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Flutter RazorPay Payment Gateway</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Flutter RazorPay Payment Gateway</h1>
</header>
<section data-field="subtitle" class="p-summary">
Razor Pay is a popular payment gateway used by numerous businesses. It offers several payment methods such as card, netbanking, externalâ€¦
</section>
<section data-field="body" class="e-content">
<section name="ab95" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="6cc4" id="6cc4" class="graf graf--h3 graf--leading graf--title">Flutter RazorPay PaymentÂ Gateway</h3><h4 name="dd65" id="dd65" class="graf graf--h4 graf-after--h3 graf--subtitle">Razor Pay is a popular payment gateway used by numerous businesses. It offers several payment methods such as card, netbanking, external wallets, UPI, and soÂ on.</h4><figure name="b385" id="b385" class="graf graf--figure graf-after--h4"><img class="graf-image" data-image-id="0*qDsC8wuHEOIxcQs-.gif" data-width="500" data-height="280" src="https://cdn-images-1.medium.com/max/800/0*qDsC8wuHEOIxcQs-.gif"></figure><p name="4045" id="4045" class="graf graf--p graf-after--figure">First think first, we must register with Razorpay (<a href="https://razorpay.com/" data-href="https://razorpay.com/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">https://razorpay.com/</a>). We need an API key to make payment checkout calls in our flutter application, so follow these steps to get one:</p><ul class="postList"><li name="1c3e" id="1c3e" class="graf graf--li graf-after--p">Learn about the <a href="https://razorpay.com/docs/payment-gateway/payment-flow/" data-href="https://razorpay.com/docs/payment-gateway/payment-flow/" class="markup--anchor markup--li-anchor" rel="ugc noopener noopener" target="_blank">Razorpay Payment Flow</a>.</li></ul><figure name="65d1" id="65d1" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="1*Qr_7f2GLj4lv_h-9Fd-gmQ.png" data-width="1397" data-height="133" src="https://cdn-images-1.medium.com/max/800/1*Qr_7f2GLj4lv_h-9Fd-gmQ.png"></figure><ul class="postList"><li name="e640" id="e640" class="graf graf--li graf-after--figure">Sign up for a <a href="https://dashboard.razorpay.com/#/access/signin" data-href="https://dashboard.razorpay.com/#/access/signin" class="markup--anchor markup--li-anchor" rel="ugc noopener noopener" target="_blank">Razorpay Account</a> and generate the <a href="https://razorpay.com/docs/payment-gateway/dashboard-guide/settings/#api-keys/" data-href="https://razorpay.com/docs/payment-gateway/dashboard-guide/settings/#api-keys/" class="markup--anchor markup--li-anchor" rel="ugc noopener noopener" target="_blank">API Keys</a> from the Razorpay Dashboard. Using the Test keys helps simulate a sandbox environment. No actual monetary transaction happens when using the Test keys. Use Live keys once you have thoroughly tested the application and are ready to go live.</li></ul><blockquote name="4af3" id="4af3" class="graf graf--blockquote graf-after--li">Please keep in mind that you must generate distinct API Keys for the test and live modes. In test mode, you are not charged.</blockquote><p name="0eae" id="0eae" class="graf graf--p graf-after--blockquote">Now, proceed to the flutter project setup.</p><p name="ad35" id="ad35" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Step 1: Add the dependencies</strong></p><p name="0c42" id="0c42" class="graf graf--p graf-after--p">This flutter plugin is a wrapper around our Android and iOS SDKs.</p><pre name="451e" id="451e" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0">dependencies:<br>  <a href="https://pub.dev/packages/razorpay_flutter" data-href="https://pub.dev/packages/razorpay_flutter" class="markup--anchor markup--pre-anchor" rel="noopener" target="_blank">razorpay_flutter</a>: ^1.3.0</code></pre><p name="9423" id="9423" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">Step 2: Create homepage file</strong></p><p name="06f0" id="06f0" class="graf graf--p graf-after--p">Add these listeners in initState methodÂ :</p><pre name="1354" id="1354" class="graf graf--pre graf-after--p">@override<br><strong class="markup--strong markup--pre-strong">void</strong> initState<strong class="markup--strong markup--pre-strong">()</strong> <strong class="markup--strong markup--pre-strong">{<br></strong>super.initState<strong class="markup--strong markup--pre-strong">()</strong>;<br>_razorpay = Razorpay<strong class="markup--strong markup--pre-strong">()</strong>;<br>_razorpay.on<strong class="markup--strong markup--pre-strong">(</strong>Razorpay.EVENT_PAYMENT_SUCCESS, _handlePaymentSuccess<strong class="markup--strong markup--pre-strong">)</strong>;<br>_razorpay.on<strong class="markup--strong markup--pre-strong">(</strong>Razorpay.EVENT_PAYMENT_ERROR, _handlePaymentError<strong class="markup--strong markup--pre-strong">)</strong>;<br>_razorpay.on<strong class="markup--strong markup--pre-strong">(</strong>Razorpay.EVENT_EXTERNAL_WALLET, _handleExternalWallet<strong class="markup--strong markup--pre-strong">)</strong>;<br><strong class="markup--strong markup--pre-strong">}</strong></pre><h4 name="4642" id="4642" class="graf graf--h4 graf-after--pre"><strong class="markup--strong markup--h4-strong">Event Names:</strong></h4><blockquote name="f0f8" id="f0f8" class="graf graf--blockquote graf-after--h4"><em class="markup--em markup--blockquote-em">The event names have been uncovered as s</em>trings<em class="markup--em markup--blockquote-em"> by the R</em>azorpay<em class="markup--em markup--blockquote-em"> class.</em></blockquote><blockquote name="69d2" id="69d2" class="graf graf--blockquote graf-after--blockquote">â€¢<strong class="markup--strong markup--blockquote-strong"> EVENT_PAYMENT_SUCCESS: </strong>The payment was successful.</blockquote><blockquote name="a15a" id="a15a" class="graf graf--blockquote graf-after--blockquote">â€¢ <strong class="markup--strong markup--blockquote-strong">EVENT_PAYMENT_ERROR: </strong>The payment was not successful.</blockquote><blockquote name="0076" id="0076" class="graf graf--blockquote graf-after--blockquote">â€¢ <strong class="markup--strong markup--blockquote-strong">EVENT_EXTERNAL_WALLET: </strong>An external wallet was selected.</blockquote><h4 name="0fcb" id="0fcb" class="graf graf--h4 graf-after--blockquote">Handler:</h4><p name="0d83" id="0d83" class="graf graf--p graf-after--h4">The handlers would be defined in the class and <em class="markup--em markup--p-em">handle the different responses and you can handle the response and show snack bar on the screen.</em></p><pre name="7527" id="7527" class="graf graf--pre graf-after--p">void  _handlePaymentSuccess(PaymentSuccessResponse response) {<br>    <br>    ScaffoldMessenger.of(context).showSnackBar(<br>    SnackBar(content: Text(<br>           &quot;Order SUCCESS: &quot;+ response.paymentId)));<br>}<br>void _handlePaymentError(PaymentFailureResponse response) {<br>    ScaffoldMessenger.of(context).showSnackBar(<br>    SnackBar(content: Text(<br>             &quot;ERROR: &quot; + response.code.toString() + &quot; - &quot; + response.message)));<br>}<br>void _handleExternalWallet(ExternalWalletResponse response) {<br>    ScaffoldMessenger.of(context).showSnackBar(<br>    SnackBar(content: Text(<br>             &quot;Paid By: &quot; + response.walletName)));<br>}</pre><p name="dcbe" id="dcbe" class="graf graf--p graf-after--pre">Letâ€™s make payment on checkout:<br>We just need to pass the option as a parameter in the open method on the Razorpay instance shown as bellow:</p><pre name="355b" id="355b" class="graf graf--pre graf-after--p">void openCheckout() async {<br>   var options = {<br>     &#39;key&#39;: &#39;rzp_test_DRfVxaEbtFkklr&#39;,<br>     &#39;amount&#39;: 28000, //in the smallest currency sub-unit.<br>     &#39;name&#39;: &#39;Acme Corp.&#39;, &#39;description&#39;: &#39;Tulsi Mala&#39;,<br>     &#39;timeout&#39;: 60, // in seconds<br>     &#39;prefill&#39;: {&#39;contact&#39;: &#39;9523616123&#39;, &#39;email&#39;: &#39;wallet@razor.com&#39;}<br>   };<br>   try {<br>     _razorpay.open(options);<br>   } catch (e) {<br>     debugPrint(&#39;Error: e&#39;);<br>   }<br> }</pre><p name="c052" id="c052" class="graf graf--p graf-after--pre">Complete code in homepage.dart</p><pre name="7fff" id="7fff" class="graf graf--pre graf-after--p graf--trailing">import &#39;package:flutter/material.dart&#39;;<br>import &#39;package:razorpay_flutter/razorpay_flutter.dart&#39;;<br><br>class Home extends StatefulWidget {<br>  const Home({Key key}) : super(key: key);<br><br>  @override<br>  _HomeState createState() =&gt; _HomeState();<br>}<br><br>class _HomeState extends State&lt;Home&gt; {<br>  Razorpay _razorpay;<br><br>  @override<br>  void initState() {<br>    super.initState();<br>// create razorpay instace<br>    _razorpay = Razorpay();<br>    _razorpay.on(Razorpay.EVENT_PAYMENT_SUCCESS, _handlePaymentSuccess);<br>    _razorpay.on(Razorpay.EVENT_PAYMENT_ERROR, _handlePaymentError);<br>    _razorpay.on(Razorpay.EVENT_EXTERNAL_WALLET, _handleExternalWallet);<br>  }<br><br>  @override<br>  void dispose() {<br>    super.dispose();<br>    _razorpay.clear();<br>  }<br><br>// for product checout<br>  void openCheckout() async {<br>    var options = {<br>      &#39;key&#39;: &#39;rzp_test_DRfVxaEbtFkklr&#39;,<br>      &#39;amount&#39;: 28000, //in the smallest currency sub-unit.<br>      &#39;name&#39;: &#39;Acme Corp.&#39;,<br>      &#39;description&#39;: &#39;Tulsi Mala&#39;,<br>      &#39;timeout&#39;: 60, // in seconds<br>      &#39;prefill&#39;: {&#39;contact&#39;: &#39;9523616123&#39;, &#39;email&#39;: &#39;wallet@razor.com&#39;}<br>    };<br><br>    try {<br>      _razorpay.open(options);<br>    } catch (e) {<br>      debugPrint(&#39;Error: e&#39;);<br>    }<br>  }<br><br>// Event handlers<br>  void  _handlePaymentSuccess(PaymentSuccessResponse response) {<br>    <br>    ScaffoldMessenger.of(context).showSnackBar(<br>    SnackBar(content: Text(<br>           &quot;Order SUCCESS: &quot;+ response.paymentId)));<br>}<br>void _handlePaymentError(PaymentFailureResponse response) {<br>    ScaffoldMessenger.of(context).showSnackBar(<br>    SnackBar(content: Text(<br>             &quot;ERROR: &quot; + response.code.toString() + &quot; - &quot; + response.message)));<br>}<br>void _handleExternalWallet(ExternalWalletResponse response) {<br>    ScaffoldMessenger.of(context).showSnackBar(<br>    SnackBar(content: Text(<br>             &quot;Paid By: &quot; + response.walletName)));<br>}<br><br><br>// build mehod<br>  @override<br>  Widget build(BuildContext context) {<br>    return Scaffold(<br>        appBar: AppBar(<br>          title: const Text(&#39;Dashboard&#39;),<br>        ),<br>        body: GridView.builder(<br>            padding: EdgeInsets.symmetric(horizontal: 15, vertical: 10),<br>            shrinkWrap: true,<br>            gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(<br>                childAspectRatio: 0.9,<br>                crossAxisCount: 1,<br>                crossAxisSpacing: 20,<br>                mainAxisSpacing: 20),<br>            itemCount: 1,<br>            itemBuilder: (context, index) {<br>              return GestureDetector(<br>                child: Container(<br>                  decoration: BoxDecoration(<br>                      color: Colors.white,<br>                      boxShadow: [<br>                        BoxShadow(<br>                            color: Colors.deepPurple[50],<br>                            offset: Offset(0, 3),<br>                            blurRadius: 3.0,<br>                            spreadRadius: 3.0),<br>                      ],<br>                      borderRadius: BorderRadius.circular(10)),<br>                  child: Column(<br>                    crossAxisAlignment: CrossAxisAlignment.start,<br>                    mainAxisSize: MainAxisSize.max,<br>                    children: [<br>                      Expanded(<br>                        child: ClipRRect(<br>                          borderRadius:<br>                              BorderRadius.vertical(top: Radius.circular(10)),<br>                          child: Image.asset(<br>                            &quot;assets/image/item.jpg&quot;,<br>                            fit: BoxFit.fill,<br>                            width: double.infinity,<br>                          ),<br>                        ),<br>                      ),<br>                      SizedBox(<br>                        height: 5,<br>                      ),<br>                      Padding(<br>                        padding: EdgeInsets.only(left: 5, right: 5),<br>                        child: Column(<br>                          crossAxisAlignment: CrossAxisAlignment.start,<br>                          children: [<br>                            Container(<br>                              // height: 30,<br>                              child: Text(<br>                                &quot;Tulsi Mala&quot;,<br>                                style: TextStyle(<br>                                    color: Colors.deepPurple,<br>                                    fontSize: 15,<br>                                    fontWeight: FontWeight.w500),<br>                                maxLines: 2,<br>                                overflow: TextOverflow.ellipsis,<br>                              ),<br>                            ),<br>                            SizedBox(<br>                              height: 5,<br>                            ),<br>                            RichText(<br>                              maxLines: 1,<br>                              softWrap: true,<br>                              text: TextSpan(<br>                                  text: &quot;â‚¹ 280.00 &quot;,<br>                                  style: TextStyle(<br>                                    color: Colors.deepPurple,<br>                                  ),<br>                                  children: [<br>                                    TextSpan(<br>                                        text: &quot;â‚¹ 310.00&quot;,<br>                                        style: TextStyle(<br>                                            color: Colors.red,<br>                                            fontSize: 12,<br>                                            decoration:<br>                                                TextDecoration.lineThrough))<br>                                  ]),<br>                            ),<br>                            SizedBox(<br>                              height: 5,<br>                            ),<br>                            Row(<br>                              children: [<br>                                Expanded(<br>                                  child: RatingBar.builder(<br>                                    initialRating: 3,<br>                                    minRating: 1,<br>                                    direction: Axis.horizontal,<br>                                    itemSize: 15,<br>                                    allowHalfRating: true,<br>                                    itemCount: 5,<br>                                    tapOnlyMode: true,<br>                                    onRatingUpdate: (rating) {<br>                                      print(rating);<br>                                    },<br>                                    itemBuilder: (context, _) =&gt; Icon(<br>                                      Icons.star,<br>                                      color: Colors.deepPurple[300],<br>                                    ),<br>                                  ),<br>                                ),<br>                              ],<br>                            ),<br>                          ],<br>                        ),<br>                      ),<br>                      SizedBox(<br>                        height: 5,<br>                      ),<br>                      Center(<br>                        child: MaterialButton(<br>                          onPressed: () {<br>                            openCheckout();<br>                          },<br>                          child: Text(<br>                            &quot;Check Out&quot;,<br>                            style: TextStyle(color: Colors.white, fontSize: 18),<br>                          ),<br>                          color: Colors.deepPurple[300],<br>                          elevation: 2,<br>                        ),<br>                      ),<br>                      SizedBox(<br>                        height: 5,<br>                      ),<br>                    ],<br>                  ),<br>                ),<br>              );<br>            }));<br>  }<br>}</pre></div></div></section><section name="dca6" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><figure name="3081" id="3081" class="graf graf--figure graf--leading graf--trailing"><img class="graf-image" data-image-id="1*BXky3Bt6fJrcOa9wPHWzCw.gif" data-width="356" data-height="532" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*BXky3Bt6fJrcOa9wPHWzCw.gif"></figure></div></div></section><section name="a67d" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><figure name="00a9" id="00a9" class="graf graf--figure graf--leading"><a href="https://www.buymeacoffee.com/learnme" data-href="https://www.buymeacoffee.com/learnme" class="graf-imageAnchor" data-action="image-link" data-action-observe-only="true"rel="noopener"target="_blank"><img class="graf-image" data-image-id="0*evMRb2TsWGScgtNc.png" data-width="199" data-height="56" src="https://cdn-images-1.medium.com/max/800/0*evMRb2TsWGScgtNc.png"></a><figcaption class="imageCaption">Thank you</figcaption></figure><p name="25b0" id="25b0" class="graf graf--p graf-after--figure">If<strong class="markup--strong markup--p-strong">you find this helpful, please share it so that others can discover it! Feel free to leave a comment below and donâ€™t forget to ðŸ‘‹ follow me</strong></p><div name="54db" id="54db" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/@rahulsharmadev/flutters-stateless-and-stateful-widget-lifecycle-cbecbed35c5" data-href="https://medium.com/@rahulsharmadev/flutters-stateless-and-stateful-widget-lifecycle-cbecbed35c5" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/@rahulsharmadev/flutters-stateless-and-stateful-widget-lifecycle-cbecbed35c5"><strong class="markup--strong markup--mixtapeEmbed-strong">Flutterâ€™s Stateless and Stateful Widget Lifecycle</strong><br><em class="markup--em markup--mixtapeEmbed-em">Stateless Widgets and their lifecycle</em>medium.com</a><a href="https://medium.com/@rahulsharmadev/flutters-stateless-and-stateful-widget-lifecycle-cbecbed35c5" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="308ab3a5255eeaf1d64568f67f8e496e" data-thumbnail-img-id="1*ovE-BqRRHilVt2HgaumnpA.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*ovE-BqRRHilVt2HgaumnpA.png);"></a></div><div name="c8e3" id="c8e3" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://medium.com/@rahulsharmadev/how-to-creating-a-responsive-flutter-drawer-164afff38fe0" data-href="https://medium.com/@rahulsharmadev/how-to-creating-a-responsive-flutter-drawer-164afff38fe0" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/@rahulsharmadev/how-to-creating-a-responsive-flutter-drawer-164afff38fe0"><strong class="markup--strong markup--mixtapeEmbed-strong">How to Creating a Responsive Flutter Drawer</strong><br><em class="markup--em markup--mixtapeEmbed-em">The navigation drawer is one of the most common ways to give a user with access to numerous destinations via anâ€¦</em>medium.com</a><a href="https://medium.com/@rahulsharmadev/how-to-creating-a-responsive-flutter-drawer-164afff38fe0" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="a1e84cae66296a50839c2816f311e303" data-thumbnail-img-id="1*fN6TsDGV_7kfqO5WcKfNVg.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*fN6TsDGV_7kfqO5WcKfNVg.png);"></a></div><div name="710e" id="710e" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed graf--trailing"><a href="https://medium.com/@rahulsharmadev/flutter-rest-apis-response-bad-utf-8-encoding-error-f28b29d7376a" data-href="https://medium.com/@rahulsharmadev/flutter-rest-apis-response-bad-utf-8-encoding-error-f28b29d7376a" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/@rahulsharmadev/flutter-rest-apis-response-bad-utf-8-encoding-error-f28b29d7376a"><strong class="markup--strong markup--mixtapeEmbed-strong">Flutter REST-APIs Response Bad UTF-8 encoding Error</strong><br><em class="markup--em markup--mixtapeEmbed-em">REST-APIs usually respond with UTF-8 encoded strings. Since dart strings are UTF-16 encoded. So, in that situation, weâ€¦</em>medium.com</a><a href="https://medium.com/@rahulsharmadev/flutter-rest-apis-response-bad-utf-8-encoding-error-f28b29d7376a" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="6a1ff8fb8483fcf7608b5d43c398d1a6" data-thumbnail-img-id="1*pIIY7sHwlA0XukYEQNu2AA.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*pIIY7sHwlA0XukYEQNu2AA.png);"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@rahulsharmadev" class="p-author h-card">Rahul Sharma</a> on <a href="https://medium.com/p/27d110123c25"><time class="dt-published" datetime="2022-06-17T06:16:08.820Z">June 17, 2022</time></a>.</p><p><a href="https://medium.com/@rahulsharmadev/flutter-razorpay-payment-gateway-27d110123c25" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on June 30, 2022.</p></footer></article></body></html>